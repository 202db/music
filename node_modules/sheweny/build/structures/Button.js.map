{"version":3,"file":"Button.js","sourceRoot":"","sources":["../../src/structures/Button.ts"],"names":[],"mappings":";;;AAAA,yDAAmD;AACnD,kDAAmD;AAKnD;;;GAGG;AACH,MAAsB,MAAO,SAAQ,gCAAa;IAahD;;;;;OAKG;IACH,YAAY,MAAqB,EAAE,QAAkB,EAAE,OAAoB;QACzE,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;QAnBlC;;;WAGG;QACH;;;;;WAAwB;QAExB;;;WAGG;QACH;;;;;WAA0B;QAUxB,IAAI,CAAC,QAAQ,GAAG,CAAC,OAAO,EAAE,QAAQ,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;QACvF,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC3B,CAAC;IAgBD;;;OAGG;IACI,KAAK,CAAC,QAAQ;QACnB,IAAI,CAAC,IAAI,CAAC,IAAI;YAAE,OAAO,IAAI,uBAAY,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAiB,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC5G,MAAM,cAAc,GAAG,CAAC,wDAAa,IAAI,CAAC,IAAI,GAAC,CAAC,CAAC,OAAO,CAAC;QACzD,MAAM,GAAG,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC5C,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;OAGG;IACI,KAAK,CAAC,MAAM;QACjB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;IACzB,CAAC;IAED;;;OAGG;IACI,UAAU;QACf,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvD,IAAI,CAAC,IAAI,CAAC,IAAI;YAAE,OAAO,KAAK,CAAC;QAC7B,OAAO,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjD,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AArED,wBAqEC","sourcesContent":["import { BaseStructure } from './BaseStructure.js';\nimport { ShewenyError } from '../helpers/index.js';\nimport type { ShewenyClient } from '../client/Client.js';\nimport type { ButtonInteraction } from 'discord.js';\nimport type { Awaitable, ButtonData, CustomId } from '../typescript/index.js';\n\n/**\n * Represents an Button structure\n * @extends {BaseStructure}\n */\nexport abstract class Button extends BaseStructure {\n  /**\n   * Cooldown of a button in seconds\n   * @type {number}\n   */\n  public cooldown: number;\n\n  /**\n   * Custom id for one or more buttons\n   * @type {CustomId}\n   */\n  public customId: CustomId;\n\n  /**\n   * Constructor for build a Button\n   * @param {ShewenyClient} [client] Client framework\n   * @param {CustomId} [customId] Custom id for one or more buttons\n   * @param {ButtonData | undefined} [options] The options of the button\n   */\n  constructor(client: ShewenyClient, customId: CustomId, options?: ButtonData) {\n    super(client, options?.enabled);\n    this.cooldown = (options?.cooldown || client.managers.buttons?.default?.cooldown) ?? 0;\n    this.customId = customId;\n  }\n\n  /**\n   * This function is executed before executing the `execute` function\n   * @param {ButtonInteraction} interaction Button interaction\n   * @returns {any | Promise<any>}\n   */\n  before?(interaction: ButtonInteraction): Awaitable<unknown>;\n\n  /**\n   * Main function `execute` for the buttons\n   * @param {ButtonInteraction} interaction Button interaction\n   * @returns {any | Promise<any>}\n   */\n  abstract execute(interaction: ButtonInteraction): Awaitable<unknown>;\n\n  /**\n   * Register a button in collections\n   * @returns {Collection<CustomId, Button>}\n   */\n  public async register(): Promise<Button | ShewenyError> {\n    if (!this.path) return new ShewenyError(this.client, 'PATH_NOT_DEFINE', 'Button', this.customId.toString());\n    const ButtonImported = (await import(this.path)).default;\n    const btn = new ButtonImported(this.client);\n    return btn;\n  }\n\n  /**\n   * Reload a button\n   * @returns {Promise<Collection<CustomId, Button> | ShewenyError>}\n   */\n  public async reload(): Promise<Button | ShewenyError> {\n    this.unregister();\n    return this.register();\n  }\n\n  /**\n   * Unregister a button from collections\n   * @returns {boolean}\n   */\n  public unregister(): boolean {\n    this.client.collections.buttons?.delete(this.customId);\n    if (!this.path) return false;\n    delete require.cache[require.resolve(this.path)];\n    return true;\n  }\n}\n"]}