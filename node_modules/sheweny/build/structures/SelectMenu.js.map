{"version":3,"file":"SelectMenu.js","sourceRoot":"","sources":["../../src/structures/SelectMenu.ts"],"names":[],"mappings":";;;AAAA,yCAA2C;AAC3C,kDAAmD;AAKnD;;;GAGG;AACH,MAAsB,UAAW,SAAQ,wBAAa;IAYpD;;;;;OAKG;IACH,YAAY,MAAqB,EAAE,QAAkB,EAAE,OAAwB;QAC7E,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;QAlBlC;;;WAGG;QACH;;;;;WAAwB;QACxB;;;WAGG;QACH;;;;;WAA0B;QAUxB,IAAI,CAAC,QAAQ,GAAG,CAAC,OAAO,EAAE,QAAQ,IAAI,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;QACvF,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC3B,CAAC;IAgBD;;;OAGG;IACI,KAAK,CAAC,QAAQ;QACnB,IAAI,CAAC,IAAI,CAAC,IAAI;YAAE,OAAO,IAAI,uBAAY,CAAC,IAAI,CAAC,MAAM,EAAE,iBAAiB,EAAE,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;QAChH,MAAM,kBAAkB,GAAG,CAAC,wDAAa,IAAI,CAAC,IAAI,GAAC,CAAC,CAAC,OAAO,CAAC;QAC7D,MAAM,EAAE,GAAe,IAAI,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC3D,OAAO,EAAE,CAAC;IACZ,CAAC;IAED;;;OAGG;IACI,KAAK,CAAC,MAAM;QACjB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;IACzB,CAAC;IAED;;;OAGG;IACI,UAAU;QACf,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,WAAW,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3D,IAAI,CAAC,IAAI,CAAC,IAAI;YAAE,OAAO,KAAK,CAAC;QAC7B,OAAO,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjD,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AApED,gCAoEC","sourcesContent":["import { BaseStructure } from './index.js';\nimport { ShewenyError } from '../helpers/index.js';\nimport type { ShewenyClient } from '../client/Client.js';\nimport type { SelectMenuInteraction } from 'discord.js';\nimport type { Awaitable, SelectMenuData, CustomId } from '../typescript/index.js';\n\n/**\n * Represents an Select Menu structure\n * @extends {BaseStructure}\n */\nexport abstract class SelectMenu extends BaseStructure {\n  /**\n   * Cooldown of a button in seconds\n   * @type {number}\n   */\n  public cooldown: number;\n  /**\n   * Custom id for one or more select menus\n   * @type {CustomId}\n   */\n  public customId: CustomId;\n\n  /**\n   * Constructor for build a Select Menu\n   * @param {ShewenyClient} [client] Client framework\n   * @param {CustomId} [customId] Custom id for one or more select menus\n   * @param {SelectMenuData | undefined} [options] The options of the select menu\n   */\n  constructor(client: ShewenyClient, customId: CustomId, options?: SelectMenuData) {\n    super(client, options?.enabled);\n    this.cooldown = (options?.cooldown || client.managers.buttons?.default?.cooldown) ?? 0;\n    this.customId = customId;\n  }\n\n  /**\n   * This function is executed before executing the `execute` function\n   * @param {SelectMenuInteraction} interaction Select Menu interaction\n   * @returns {any | Promise<any>}\n   */\n  before?(interaction: SelectMenuInteraction): Awaitable<unknown>;\n\n  /**\n   * Main function `execute` for the select menus\n   * @param {SelectMenuInteraction} interaction Select Menus interaction\n   * @returns {any | Promise<any>}\n   */\n  abstract execute(interaction: SelectMenuInteraction): Awaitable<unknown>;\n\n  /**\n   * Register a select menu in collections\n   * @returns {Collection<string[]| RegExp[], SelectMenu | ShewenyError>} The select menus collection\n   */\n  public async register(): Promise<SelectMenu | ShewenyError> {\n    if (!this.path) return new ShewenyError(this.client, 'PATH_NOT_DEFINE', 'SelectMenu', this.customId.toString());\n    const SelectMenuImported = (await import(this.path)).default;\n    const sm: SelectMenu = new SelectMenuImported(this.client);\n    return sm;\n  }\n\n  /**\n   * Reload a select menu\n   * @returns {Promise<Collection<string[]| RegExp[], SelectMenu> | ShewenyError>} The select menus collection\n   */\n  public async reload(): Promise<SelectMenu | ShewenyError> {\n    this.unregister();\n    return this.register();\n  }\n\n  /**\n   * Unregister a select menu from collections\n   * @returns {boolean}\n   */\n  public unregister(): boolean {\n    this.client.collections.selectMenus?.delete(this.customId);\n    if (!this.path) return false;\n    delete require.cache[require.resolve(this.path)];\n    return true;\n  }\n}\n"]}